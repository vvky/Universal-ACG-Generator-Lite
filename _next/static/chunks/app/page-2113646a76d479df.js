(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let s=r(8907).env.BASE_PATH||"Universal-ACG-Generator-Lite",a=s?`/${s.replace(/^\//,"")}`:"";function n({src:e}){if(e.startsWith("http"))return e;let t=e.startsWith("/")?e:`/${e}`;return`${a}${t}`}},3574:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(989),a=r(2953),n=r(795);function o({ariaLabels:e}){let[t,r]=(0,a.useState)(!1),{theme:o,setTheme:d}=(0,n.D)(),c="startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches,x=e??{ariaLight:"切换到浅色模式",ariaDark:"切换到深色模式",ariaPlaceholder:"切换主题"};(0,a.useEffect)(()=>r(!0),[]);let b=t&&"dark"===o;return(0,s.jsx)("button",{type:"button","aria-label":t?b?x.ariaLight:x.ariaDark:x.ariaPlaceholder,onClick:e=>{let t="dark"===o?"light":"dark",r=e.clientX,s=e.clientY,a=Math.hypot(Math.max(r,innerWidth-r),Math.max(s,innerHeight-s)),n=[`circle(0px at ${r}px ${s}px)`,`circle(${a}px at ${r}px ${s}px)`];if(!c)return void d(t);let l="dark"===o,i=document;i.startViewTransition?i.startViewTransition(()=>d(t)).ready.then(()=>{document.documentElement.animate({clipPath:l?n.reverse():n},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${l?"old":"new"}(root)`})}):d(t)},className:"rounded p-2 text-stone-500 hover:bg-stone-100 dark:text-stone-400 dark:hover:bg-stone-800",children:t&&b?(0,s.jsx)(i,{className:"h-5 w-5"}):(0,s.jsx)(l,{className:"h-5 w-5"})})}function l({className:e}){return(0,s.jsx)("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}function i({className:e}){return(0,s.jsxs)("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,s.jsx)("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]})}},3806:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(989),a=r(2953);function n({content:e}){let[t,r]=(0,a.useState)(!1),[n,o]=(0,a.useState)({visible:!1,leaving:!1});return((0,a.useEffect)(()=>{if(!n.visible)return;if(n.leaving){let e=setTimeout(()=>o({visible:!1,leaving:!1}),300);return()=>clearTimeout(e)}let e=setTimeout(()=>o(e=>({...e,leaving:!0})),2e3);return()=>clearTimeout(e)},[n.visible,n.leaving]),t)?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-primary flex items-center justify-center gap-4 px-4 py-2.5 text-sm text-white dark:bg-primary-light",children:[(0,s.jsxs)("p",{className:"flex-1 text-center",children:[e.message,(0,s.jsx)("button",{type:"button",className:"ml-2 border-b border-white/80 hover:opacity-80",style:{borderBottomWidth:1},onClick:()=>{let e=Math.random().toString(36).slice(2,10),t=`${window.location.origin}/invite/${e}`;navigator.clipboard.writeText(t),o({visible:!0,leaving:!1})},children:e.copyButton})]}),(0,s.jsx)("button",{type:"button","aria-label":e.ariaClose,onClick:()=>r(!0),className:"shrink-0 rounded p-1 hover:bg-white/10",children:(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":!0,children:(0,s.jsx)("path",{d:"M4.293 4.293a1 1 0 011.414 0L8 6.586l2.293-2.293a1 1 0 111.414 1.414L9.414 8l2.293 2.293a1 1 0 01-1.414 1.414L8 9.414l-2.293 2.293a1 1 0 01-1.414-1.414L6.586 8 4.293 5.707a1 1 0 010-1.414z"})})})]}),n.visible&&(0,s.jsx)("div",{role:"status","aria-live":"polite",className:`fixed left-1/2 top-24 z-[100] -translate-x-1/2 rounded-lg bg-stone-800 px-4 py-2.5 text-sm text-white shadow-lg ring-1 ring-stone-700 transition-all duration-300 ease-out dark:bg-stone-200 dark:text-stone-900 dark:ring-stone-600 ${n.leaving?"translate-y-0 opacity-0":"translate-y-0 opacity-100"}`,children:e.toastCopied})]})}},4391:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2216,23)),Promise.resolve().then(r.t.bind(r,8721,23)),Promise.resolve().then(r.bind(r,7276)),Promise.resolve().then(r.bind(r,3574)),Promise.resolve().then(r.bind(r,3806))},7276:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(989),a=r(2953);let n=["初始化","整体策划","角色设计","场景设计","分镜设计"],o=[{value:"nano-banana",label:"nano-banana"},{value:"seedream",label:"seedream"}],l="data:image/svg+xml;utf8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22250%22 viewBox=%220 0 400 250%22%3E%3Crect width=%22400%22 height=%22250%22 fill=%22%23e7e5e4%22/%3E%3Ctext x=%22200%22 y=%22130%22 text-anchor=%22middle%22 fill=%22%23787571%22 font-size=%2224%22 font-family=%22sans-serif%22%3E%E8%A7%92%E8%89%B2%E9%85%8D%E5%9B%BE%3C/text%3E%3C/svg%3E",i=[{name:"唐三藏",image:"https://cyber-aigc.oss-cn-beijing.aliyuncs.com/projects/projectID20260209140428/character_images/1770618323_唐三藏/唐三藏_base_portrait.png",role:"主角",gender:"男",age:"青年",description:"金蝉子转世，西天取经的圣僧",primary_visual:{physique:"身材匀称，略显清瘦",facial_features:"面容白净，眉清目秀",hairstyle:"光头，头顶有戒疤",costume:"白色僧袍，红色袈裟",accessories:["禅杖"],palette:"白色、红色、金色",demeanor:"慈悲，庄重"},signature_traits:["袈裟","禅杖"]},{name:"猪悟能",image:"https://cyber-aigc.oss-cn-beijing.aliyuncs.com/projects/projectID20260209140428/character_images/1770618287_猪悟能/猪悟能_base_portrait.png",role:"重要配角",gender:"男",age:"青年",description:"唐僧的二徒弟，原为天蓬元帅",primary_visual:{physique:"身形肥胖，肚子圆滚",facial_features:"猪头人身，大耳朵，长鼻子，獠牙外露",hairstyle:"头戴僧帽，露出部分头发",costume:"身穿僧袍，颜色以蓝色或灰色为主，腰间系着布带",accessories:["九齿钉耙"],palette:"以蓝色、灰色、黑色为主的粗犷色调",demeanor:"神态憨厚，举止笨拙，但有时也显得很机灵"},signature_traits:["猪头","手持九齿钉耙","大肚子"]},{name:"哪吒",image:"https://cyber-aigc.oss-cn-beijing.aliyuncs.com/projects/projectID20260209140428/character_images/1770618249_哪吒/哪吒_base_portrait.png",role:"重要配角",gender:"男",age:"少年",description:"天庭的少年战神，李天王之子",primary_visual:{physique:"身形灵巧，体态精悍",facial_features:"面容俊俏，眉清目秀",hairstyle:"头梳总角，发带飘逸",costume:"身穿红色战甲，脚蹬风火轮",accessories:["风火轮","混天绫","火尖枪"],palette:"红色、金色",demeanor:"英姿飒爽，意气风发"},signature_traits:["脚踩风火轮","身披混天绫","三头六臂"]},{name:"玉帝",image:"https://cyber-aigc.oss-cn-beijing.aliyuncs.com/projects/projectID20260209140428/character_images/1770618195_玉帝/玉帝_base_portrait.png",role:"重要配角",gender:"男",age:"2亿岁",description:"天庭统治者，掌管三界秩序",primary_visual:{physique:"体态威严，身形高大",facial_features:"方面大耳，剑眉星目",hairstyle:"头戴金冠，长发束起",costume:"身穿金色龙袍，脚蹬云头靴",accessories:["玉佩","朝笏"],palette:"金色、黄色",demeanor:"威严庄重，气度不凡"},signature_traits:["身着龙袍","手持朝笏"]}];function d(){let[e,t]=(0,a.useState)("角色设计"),[r,d]=(0,a.useState)(null),[c,x]=(0,a.useState)(null),[b,m]=(0,a.useState)(!1);return(0,s.jsx)("section",{className:"border-t border-stone-200 bg-stone-200/40 px-4 py-10 dark:border-stone-700 dark:bg-stone-800/50 md:py-12 lg:px-8",children:(0,s.jsxs)("div",{className:"relative mx-auto w-full max-w-5xl overflow-hidden rounded-lg border border-stone-300 bg-white shadow-xl dark:border-stone-700 dark:bg-stone-900 aspect-[16/10]",children:[(0,s.jsxs)("div",{className:"absolute inset-0 flex",children:[(0,s.jsxs)("aside",{className:"flex w-52 shrink-0 flex-col border-r border-stone-200 bg-stone-50 p-3 dark:border-stone-700 dark:bg-stone-800",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("nav",{className:"mt-1 flex items-center text-sm text-stone-500 dark:text-stone-400","aria-label":"Breadcrumb",children:[(0,s.jsx)("span",{children:"工作台"}),(0,s.jsx)("span",{className:"mx-2 text-stone-300 dark:text-stone-600",children:"/"}),(0,s.jsx)("span",{className:"font-semibold text-stone-800 dark:text-stone-200",children:"我的项目"})]}),(0,s.jsx)("button",{type:"button",className:"mt-3 inline-flex items-center rounded-full border border-stone-300 px-3 py-1 text-xs text-stone-600 transition hover:bg-stone-100 dark:border-stone-600 dark:text-stone-300 dark:hover:bg-stone-700",children:"返回"})]}),(0,s.jsx)("nav",{className:"flex-1 space-y-1.5",children:n.map(r=>(0,s.jsxs)("button",{type:"button",onClick:()=>{"角色设计"===r&&t(r)},className:`flex w-full items-center gap-2 rounded-lg px-2.5 py-2 text-left text-sm transition ${e===r?"bg-primary/15 font-semibold text-primary shadow-sm ring-1 ring-primary/30 dark:bg-primary-dark/25 dark:text-primary-dark dark:ring-primary-dark/40":"text-stone-600 hover:bg-stone-100 dark:text-stone-400 dark:hover:bg-stone-700"}`,children:[(0,s.jsx)("span",{className:e===r?"text-primary dark:text-primary-dark":"text-stone-400 dark:text-stone-500",children:"\xb7"}),r]},r))})]}),(0,s.jsxs)("main",{className:"min-w-0 flex flex-1 flex-col p-4",children:[(0,s.jsxs)("header",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2 dark:border-stone-700 dark:bg-stone-800/60",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1 truncate",children:[(0,s.jsx)("p",{className:"text-xs text-stone-500 dark:text-stone-400",children:"当前项目"}),(0,s.jsx)("p",{className:"truncate text-sm font-semibold text-stone-900 dark:text-stone-100",children:"《大闹天宫：前传》"})]}),(0,s.jsxs)("div",{className:"flex shrink-0 flex-nowrap items-center justify-end gap-1.5 text-xs",children:[(0,s.jsx)("span",{className:"inline-flex shrink-0 items-center whitespace-nowrap rounded-full bg-stone-200 px-2.5 py-1 text-stone-700 dark:bg-stone-700 dark:text-stone-200",children:"创作模式：小说"}),(0,s.jsx)("span",{className:"inline-flex shrink-0 items-center whitespace-nowrap rounded-full bg-stone-200 px-2.5 py-1 text-stone-700 dark:bg-stone-700 dark:text-stone-200",children:"画面风格：3D国风"}),(0,s.jsx)("span",{className:"inline-flex shrink-0 items-center whitespace-nowrap rounded-full bg-stone-200 px-2.5 py-1 text-stone-700 dark:bg-stone-700 dark:text-stone-200",children:"分镜比例：16:9"})]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("div",{className:"mb-0.5 flex items-center justify-between text-xs text-stone-500 dark:text-stone-400",children:[(0,s.jsx)("span",{children:"创作进度"}),(0,s.jsx)("span",{children:"60%"})]}),(0,s.jsx)("div",{className:"h-2 rounded-full bg-stone-200 dark:bg-stone-700",children:(0,s.jsx)("div",{className:"h-full rounded-full bg-primary dark:bg-primary-dark",style:{width:"60%"}})})]})]}),(0,s.jsx)("div",{className:"mt-3 flex items-center justify-between border-b border-stone-200 pb-2 dark:border-stone-700",children:(0,s.jsx)("h3",{className:"text-base font-semibold text-stone-900 dark:text-stone-100",children:e})}),"角色设计"===e?(0,s.jsx)("div",{className:"mt-4 min-h-0 flex-1 overflow-y-auto pr-1",children:(0,s.jsx)("div",{className:"grid grid-cols-4 gap-3 pb-1",children:i.map(e=>(0,s.jsxs)("div",{className:"group relative overflow-hidden rounded-lg border border-stone-200 bg-white transition duration-200 hover:-translate-y-0.5 hover:shadow-md dark:border-stone-700 dark:bg-stone-800",children:[(0,s.jsx)("button",{type:"button","aria-label":`${e.name} 编辑`,onClick:()=>{d(e),x({...e,model:o[0].value}),m(!1)},className:"pointer-events-none absolute right-1.5 top-1.5 z-10 inline-flex h-6 w-6 items-center justify-center rounded-full border border-stone-200 bg-white/90 text-stone-600 opacity-0 transition hover:bg-white hover:text-stone-900 group-hover:pointer-events-auto group-hover:opacity-100 disabled:pointer-events-none disabled:opacity-50 dark:border-stone-600 dark:bg-stone-800/90 dark:text-stone-300 dark:hover:text-stone-100",children:(0,s.jsxs)("svg",{viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"1.8",className:"h-3 w-3","aria-hidden":!0,children:[(0,s.jsx)("path",{d:"M3 14.5V17h2.5L14.7 7.8l-2.5-2.5L3 14.5Z"}),(0,s.jsx)("path",{d:"M11.6 5.9 14.1 8.4"})]})}),(0,s.jsx)("div",{className:"h-28 w-full bg-stone-100 dark:bg-stone-700",children:(0,s.jsx)("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover",loading:"lazy",referrerPolicy:"no-referrer",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=l}})}),(0,s.jsxs)("div",{className:"space-y-1 p-2.5",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-stone-900 dark:text-stone-100",children:e.name}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5 text-xs text-stone-600 dark:text-stone-300",children:[e.role,e.gender,e.age].map(t=>(0,s.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full bg-stone-100 px-2.5 py-0.5 dark:bg-stone-700",children:t},`${e.name}-${t}`))}),(0,s.jsx)("p",{className:"truncate text-xs text-stone-500 dark:text-stone-400",children:e.description})]})]},e.name))})}):(0,s.jsx)("div",{className:"mt-4 min-h-0 flex-1",children:(0,s.jsxs)("div",{className:"flex h-full items-center justify-center rounded-lg border border-dashed border-stone-300 px-3 py-6 text-center text-xs text-stone-500 dark:border-stone-600 dark:text-stone-400",children:[e," 模块预览暂未开放"]})})]})]}),r&&c&&(0,s.jsx)("div",{className:"absolute inset-0 z-20 flex items-center justify-center rounded-lg bg-stone-900/55 p-3 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"edit-character-title",children:(0,s.jsxs)("div",{className:"flex h-[80%] w-[85%] max-w-4xl flex-col overflow-hidden rounded-lg border border-stone-200 bg-white shadow-2xl dark:border-stone-600 dark:bg-stone-900",children:[(0,s.jsxs)("div",{className:"flex shrink-0 items-center justify-between border-b border-stone-200 px-3 py-1.5 dark:border-stone-600",children:[(0,s.jsx)("h2",{id:"edit-character-title",className:"text-sm font-semibold text-stone-900 dark:text-stone-100",children:"编辑角色"}),(0,s.jsx)("button",{type:"button",onClick:()=>{d(null),x(null),m(!1)},className:"rounded p-1 text-stone-500 transition hover:bg-stone-100 hover:text-stone-700 dark:hover:bg-stone-700 dark:hover:text-stone-200","aria-label":"关闭",children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("form",{className:"flex min-h-0 flex-1",onSubmit:e=>e.preventDefault(),children:[(0,s.jsx)("div",{className:"flex min-h-0 basis-[58%] flex-col border-r border-stone-200 p-3 dark:border-stone-600",children:(0,s.jsxs)("div",{className:"relative min-h-0 flex-1 overflow-hidden rounded-lg border border-stone-200 bg-stone-100 dark:border-stone-600 dark:bg-stone-800",children:[(0,s.jsx)("img",{src:c.image||l,alt:c.name,className:"h-full w-full object-contain p-2",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=l}}),(0,s.jsxs)("div",{className:"absolute right-2 top-2 flex gap-1.5",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{if(!c.image)return;let e=document.createElement("a");e.href=c.image,e.download=`${c.name}.png`,e.target="_blank",e.rel="noreferrer",e.click()},className:"rounded-full border border-stone-200 bg-white/90 px-3 py-1 text-xs text-stone-700 transition hover:bg-white dark:border-stone-600 dark:bg-stone-800/90 dark:text-stone-200",children:"下载"}),(0,s.jsx)("button",{type:"button",onClick:()=>{m(!0)},className:"rounded-full border border-stone-200 bg-white/90 px-3 py-1 text-xs text-stone-700 transition hover:bg-white dark:border-stone-600 dark:bg-stone-800/90 dark:text-stone-200",children:"全屏预览"})]})]})}),(0,s.jsxs)("div",{className:"flex min-h-0 basis-[42%] flex-col",children:[(0,s.jsxs)("div",{className:"min-h-0 flex-1 space-y-2 overflow-y-auto p-3",children:[(0,s.jsxs)("section",{className:"rounded-lg border border-stone-200 bg-stone-50/70 p-2.5 dark:border-stone-600 dark:bg-stone-800/40",children:[(0,s.jsx)("h3",{className:"mb-1.5 text-xs font-semibold text-stone-800 dark:text-stone-100",children:"基础信息"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"edit-name",className:"mb-1 block text-xs text-stone-600 dark:text-stone-400",children:"角色名称"}),(0,s.jsx)("input",{id:"edit-name",type:"text",value:c.name,onChange:e=>x(t=>t?{...t,name:e.target.value}:null),disabled:!0,className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm bg-stone-100 text-stone-700 opacity-80 cursor-not-allowed dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"edit-gender",className:"mb-1 block text-xs text-stone-600 dark:text-stone-400",children:"性别"}),(0,s.jsx)("input",{id:"edit-gender",type:"text",value:c.gender,onChange:e=>x(t=>t?{...t,gender:e.target.value}:null),className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"edit-age",className:"mb-1 block text-xs text-stone-600 dark:text-stone-400",children:"年龄"}),(0,s.jsx)("input",{id:"edit-age",type:"text",value:c.age,onChange:e=>x(t=>t?{...t,age:e.target.value}:null),className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"edit-desc",className:"mb-1 block text-xs text-stone-600 dark:text-stone-400",children:"简介"}),(0,s.jsx)("textarea",{id:"edit-desc",rows:2,value:c.description,onChange:e=>x(t=>t?{...t,description:e.target.value}:null),className:"w-full resize-none rounded-lg border border-stone-300 px-3 py-1 text-sm dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100"})]})]})]}),(0,s.jsxs)("section",{className:"rounded-lg border border-stone-200 bg-stone-50/70 p-2.5 dark:border-stone-600 dark:bg-stone-800/40",children:[(0,s.jsx)("h3",{className:"mb-1.5 text-xs font-semibold text-stone-800 dark:text-stone-100",children:"外观特征"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"edit-signature",className:"mb-1 block text-xs text-stone-600 dark:text-stone-400",children:"标志性特征"}),(0,s.jsx)("input",{id:"edit-signature",type:"text",value:c.signature_traits.join("，"),onChange:e=>x(t=>t?{...t,signature_traits:e.target.value.split(/[,，]/).map(e=>e.trim()).filter(Boolean)}:null),className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100"})]}),[{key:"hairstyle",label:"发型"},{key:"costume",label:"服装"}].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1 block text-xs text-stone-600 dark:text-stone-400",children:e.label}),(0,s.jsx)("input",{type:"text",value:c.primary_visual[e.key],onChange:t=>x(r=>r?{...r,primary_visual:{...r.primary_visual,[e.key]:t.target.value}}:null),className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100"})]},e.key)),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"edit-accessories",className:"mb-1 block text-xs text-stone-600 dark:text-stone-400",children:"配饰"}),(0,s.jsx)("input",{id:"edit-accessories",type:"text",value:c.primary_visual.accessories.join("，"),onChange:e=>x(t=>t?{...t,primary_visual:{...t.primary_visual,accessories:e.target.value.split(/[,，]/).map(e=>e.trim()).filter(Boolean)}}:null),className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100"})]})]})]}),(0,s.jsxs)("section",{className:"rounded-lg border border-stone-200 bg-stone-50/70 p-2.5 dark:border-stone-600 dark:bg-stone-800/40",children:[(0,s.jsx)("h3",{className:"mb-1.5 text-xs font-semibold text-stone-800 dark:text-stone-100",children:"选择模型"}),(0,s.jsx)("select",{id:"edit-model",value:c.model,onChange:e=>x(t=>t?{...t,model:e.target.value}:null),className:"w-full rounded-lg border border-stone-300 px-3 py-2 text-sm dark:border-stone-600 dark:bg-stone-800 dark:text-stone-100",children:o.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsx)("div",{className:"shrink-0 border-t border-stone-200 p-3 dark:border-stone-600",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-1.5",children:[(0,s.jsx)("button",{type:"button",className:"rounded-lg border border-stone-300 bg-stone-100 px-3 py-2 text-sm text-stone-600 transition hover:bg-stone-200 dark:border-stone-600 dark:bg-stone-700 dark:text-stone-300 dark:hover:bg-stone-600",children:"恢复默认"}),(0,s.jsx)("button",{type:"button",className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm text-stone-700 transition hover:bg-stone-100 dark:border-stone-600 dark:bg-stone-800 dark:text-stone-200 dark:hover:bg-stone-700",children:"仅保存"}),(0,s.jsx)("button",{type:"button",className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm font-medium text-primary transition hover:bg-stone-100 dark:border-primary-dark dark:bg-stone-900 dark:text-primary-dark dark:hover:bg-stone-800",children:"重新生成"})]})})]})]}),b&&(0,s.jsxs)("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-stone-950/85 p-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{m(!1)},className:"absolute right-4 top-4 rounded-full border border-stone-400 px-2.5 py-1 text-xs text-stone-100 transition hover:bg-stone-800",children:"关闭预览"}),(0,s.jsx)("img",{src:c.image||l,alt:`${c.name} 全屏预览`,className:"max-h-full max-w-full object-contain",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src=l}})]})]})})]})})}}},e=>{e.O(0,[174,7,518,358],()=>e(e.s=4391)),_N_E=e.O()}]);